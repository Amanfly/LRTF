#include<iostream>
#include<conio.h>
#include<unistd.h>
using namespace std;
int main()
{
	int n=3;
	int i;
	int brust[5]={2,4,8},id[5]={2132,2102,2453},priority[5];
	char p[5]={'a','b','c'};
	int brust1[5];
	int w_time[5]={0,0,0,0,0};
	int t_time[5]={0,0,0,0,0};
	int time=0,j=0,max=0,k;
	int avg_w,avg_t;
	cout<<"\nTotal Number Of Students :"<<n;
	sleep(1.0);
	for(i=0;i<n;i++)
	{
		cout<<"\n\nId of the Students"<<p[i]<<id[i];
		cout<<"\nTime Taken By The Student:"<<brust[i];;
		sleep(1.0);
		
	}
	sleep(1.0);
	cout<<"\n\n | Student   |    Id      | Time Taken |";
	for(i=0;i<n;i++)
	{
		cout<<"\n |    %c\t     |   %d\t  |    %d       |"<<p[i]<<id[i]<<brust[i];
		time=time+brust[i];
		t_time[i]=t_time[i]+brust[i];
		brust1[i]=brust[i];
	}
	cout<<"\n\n---------------------------------------------------------------------------";
	cout<<"\n\n\n<<<<<<<<<<<<<< Calculating Waiting Time For Each Student  >>>>>>>>>>>>>>>>>>>";
	sleep(3);
	cout<<"\n\nExecution of Process On Each Minutes-->>";
	cout<<"\nGannt Chart: ";
	max=2;
	for(i=0;i<time;i++)
	{
		for(j=0;j<n;j++)
		{
			if(brust[j]>brust[max])
			{
				max=j;
			}
			if(brust[max]==brust[j])
			{
				if(id[max]>id[j])
				{
					max=j;
				}
			}
		}
		brust[max]=brust[max]-1;
		for(k=0;k<n;k++)
		{
			if(max==k)
			{
				cout<<"";
			}
			else
			{
				if(brust[k]>0)
				{
					w_time[k]=w_time[k]+1;
					t_time[k]=t_time[k]+1;
				}
			}
		}
		cout<<"%c-->"<<p[max];
	}
	cout<<"\n\n  Student       Id       Time Taken       Waiting      Turnarround";
	for(i=0;i<n;i++)
	{
		cout<<"\n     %c\t       %d\t       %d       \t    %d         \t %d "<<p[i]<<id[i]<<brust1[i]<<w_time[i],t_time[i];
		
	}
	cout<<"\n----------------------------------------------------------------------------";
	for(i=0;i<n;i++)
	{
		avg_w+=w_time[i];
		avg_t+=t_time[i];
	}
	cout<<"\n\nAverage Waiting Time    : %d"<<avg_w/n;
	cout<<"\nAverage Turnarround Time: %d"<<avg_t/n;
	cout<<"\n\n----------------------------------------------------------------------------\n\n\n";


}
